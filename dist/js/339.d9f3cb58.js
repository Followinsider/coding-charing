"use strict";(self["webpackChunkCoding_Charing"]=self["webpackChunkCoding_Charing"]||[]).push([[339],{3339:function(e,s,t){t.r(s),t.d(s,{default:function(){return l}});var a=function(){var e=this,s=e._self._c;return s("div",{class:[e.isSignUp?"right-panel-active":"","container"]},[s("div",{staticClass:"form-container sign-up-container"},[s("form",{attrs:{action:"#"}},[s("h1",[e._v("创建账号")]),s("span",[e._v("使用其他方式注册")]),s("div",{staticClass:"social-container"},[s("a",{staticClass:"social",on:{click:e.waitCoding}},[s("i",{staticClass:"fab fa-facebook-f"})]),s("a",{staticClass:"social",on:{click:e.waitCoding}},[s("i",{staticClass:"fab fa-google-plus-g"})]),s("a",{staticClass:"social",on:{click:e.waitCoding}},[s("i",{staticClass:"fab fa-linkedin-in"})])]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.user.username,expression:"user.username"}],attrs:{type:"text",placeholder:"用户名",autocomplete:"off"},domProps:{value:e.user.username},on:{input:function(s){s.target.composing||e.$set(e.user,"username",s.target.value)}}}),s("input",{directives:[{name:"model",rawName:"v-model",value:e.user.email,expression:"user.email"}],attrs:{type:"email",placeholder:"注册邮箱",autocomplete:"off"},domProps:{value:e.user.email},on:{input:[function(s){s.target.composing||e.$set(e.user,"email",s.target.value)},e.checkEmail]}}),s("a",{directives:[{name:"show",rawName:"v-show",value:e.sendAuthCode,expression:"sendAuthCode"}],staticClass:"getCaptchaText",on:{click:e.getCaptcha}},[e._v("获取验证码")]),s("a",{directives:[{name:"show",rawName:"v-show",value:!e.sendAuthCode,expression:"!sendAuthCode"}],staticClass:"getCaptchaTextTime"},[e._v(e._s(e.auth_time)+"秒")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.user.code,expression:"user.code"}],attrs:{type:"text",placeholder:"邮箱验证码",autocomplete:"off"},domProps:{value:e.user.code},on:{input:[function(s){s.target.composing||e.$set(e.user,"code",s.target.value)},e.checkCaptcha]}}),s("input",{directives:[{name:"model",rawName:"v-model",value:e.user.password,expression:"user.password"}],attrs:{type:"password",placeholder:"密码",autocomplete:"off"},domProps:{value:e.user.password},on:{input:function(s){s.target.composing||e.$set(e.user,"password",s.target.value)}}}),s("button",{staticClass:"signUp",on:{click:function(s){return s.preventDefault(),e.signUp.apply(null,arguments)}}},[e._v("Sign Up")])])]),s("div",{staticClass:"form-container sign-in-container"},[s("form",{attrs:{action:"#"}},[s("h1",[e._v("Coding_Charing")]),s("div",{staticClass:"social-container"}),s("input",{directives:[{name:"model",rawName:"v-model",value:e.user.username,expression:"user.username"}],attrs:{type:"email",placeholder:"用户名",autocomplete:"off"},domProps:{value:e.user.username},on:{input:function(s){s.target.composing||e.$set(e.user,"username",s.target.value)}}}),s("input",{directives:[{name:"model",rawName:"v-model",value:e.user.password,expression:"user.password"}],attrs:{type:"password",placeholder:"密码",autocomplete:"off"},domProps:{value:e.user.password},on:{input:function(s){s.target.composing||e.$set(e.user,"password",s.target.value)}}}),s("el-link",{attrs:{type:"info"},on:{click:e.forgetPassword}},[e._v("忘记密码")]),s("button",{on:{click:function(s){return s.preventDefault(),e.login.apply(null,arguments)}}},[e._v("登 录")])],1)]),s("div",{staticClass:"overlay-container"},[s("div",{staticClass:"overlay"},[s("div",{staticClass:"overlay-panel overlay-left"},[s("h1",[e._v("欢迎回来!")]),s("p",[e._v("要与我们保持联系，请使用您的个人信息登录")]),s("button",{staticClass:"ghost",on:{click:function(s){e.isSignUp=!1}}},[e._v("Sign In")])]),s("div",{staticClass:"overlay-panel overlay-right"},[s("h1",[e._v("您好，朋友!")]),s("p",[e._v("输入您的个人信息，与我们一起开始旅程")]),s("button",{staticClass:"ghost",on:{click:function(s){e.isSignUp=!0}}},[e._v("Sign Up")])])])])])},i=[],r=(t(7658),{name:"Login",data(){return{isSignUp:!1,timer:null,user:{username:"",code:"",password:"",email:""},sendAuthCode:!0,auth_time:0}},methods:{waitCoding(){this.$message.info("此功能暂未开放,稍等哈")},checkEmail(){null!==this.timer&&clearTimeout(this.timer),this.timer=setTimeout((()=>{const e=new RegExp("^[a-zA-Z0-9_-]+@[a-zA-Z0-9_-]+(.[a-zA-Z0-9_-]+)+$");e.test(this.user.email)||this.$message.error("邮箱格式有误，请重新确认！")}),1500)},checkCaptcha(){this.user.code.length>5&&(this.user.code=this.user.code.slice(0,5))},async getCaptcha(){if(""!==this.user.username&&""!==this.user.email)try{await this.$store.dispatch("emailCode",this.user.email),this.sendAuthCode=!1,this.auth_time=15;let e=setInterval((()=>{this.auth_time--,this.auth_time<=0&&(this.sendAuthCode=!0,clearInterval(e))}),1e3);this.$message.success("已发送验证码到指定邮箱")}catch(e){console.log(e),alert("获取验证码失败,请及时检查")}else this.$message.error("请检查个人信息是否填写完整")},forgetPassword(){this.$message.warning("怎么就忘啦，目前忘记密码还在开发中,请稍等...")},async signUp(){if(""!==this.user.username&&""!==this.user.code&&""!==this.user.password&&""!==this.user.email)try{let e=await this.$store.dispatch("userRegister",this.user);"ok"===e?(this.$message.success("注册成功！"),this.user.username="",this.user.code="",this.user.password="",this.user.email="",this.isSignUp=!1):this.$message.error(e)}catch(e){this.$message.error("请查看验证码是否正确")}else this.$message.error("请检查注册信息是否填写完整")},async login(){if(""!==this.user.username&&""!==this.user.password)try{const{username:e,password:s}=this.user;e&&s&&await this.$store.dispatch("userLogin",{username:e,password:s}),this.$router.push("/")}catch(e){this.$message.error(e)}else this.$message.error("请检查登录信息是否填写完整")}}}),o=r,n=t(1001),u=(0,n.Z)(o,a,i,!1,null,"eba49e30",null),l=u.exports}}]);
//# sourceMappingURL=339.d9f3cb58.js.map